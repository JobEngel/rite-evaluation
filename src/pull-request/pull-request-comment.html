<link rel="import" href="../bower_components/marked-element/marked-element.html">
<link rel="import" href="../list-items/column-list-item.html">
<link rel="import" href="../list-items/list-item-label.html">
<link rel="import" href="../util/to-date-string-behavior.html">
<link rel="import" href="../util/marked-github-behavior.html">

<dom-module id="pull-request-comment">
  <template>
    <style>
      .top-container{
        display: flex;
        background-color: var(--secondary-background-color);
      }
      .poster {
        flex:1;
      }
      .time {
        text-align: left;
      }
    </style>
      <div class="top-container">
        <div class="poster">
          <img src$="[[comment.user.avatar_url]]" width="24px" height="24px" alt$="[[comment.user.login]]"/>
          <span><b>[[comment.user.login]]</b></span>
        </div>
        <div class="time">
          <span>[[toDateString(comment.created_at)]] ago</span>
        </div>
      </div>
        <div class="comment">
          <marked-element markdown="[[comment.body]]" callback="[[parseMarkdown(owner, name)]]"></marked-element>
        </div>
  </template>
  <script>
    Polymer({
      is: 'pull-request-comment',
      behaviors: [ToDateStringBehavior, MarkedGithubBehavior],
      properties: {
        comment: Object,
        owner: String,
        name: String
      }
    });
  </script>
</dom-module>
