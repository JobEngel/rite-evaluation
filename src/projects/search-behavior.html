<script>
searchBehavior = {

  properties: {
    getFields: {
      type: Function
    },
    search: {
      type: Function,
      value: function() {
        return function(list, searchWord) {
          return list;
        }
      }
    }
  },
  observers: ['_setSearch(getFields)'],
  _setSearch: function(getFields) {
    this.search = function(list, searchWord) {
      if (this.searchWord === ''){
        return list;
      }
      else {
        searchWord = searchWord.toLowerCase();
        return list.filter(function(e) {
          var count = 0;
          getFields(e).forEach(function(f){
            if (f.toLowerCase().indexOf(searchWord) > -1) {
              count++;
            }
          });
          return count > 0;
        });
      }
    }
  }
};
</script>
